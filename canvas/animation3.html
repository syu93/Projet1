<!DOCTYPE html>
<html>
<head>
	<title>Transformation Gypes</title>
	<script src="js/EaselJS-release_v0.7.0/lib/easeljs-0.7.0.min.js"></script>
	<script src="js/TweenJS-release_v0.5.0/lib/tweenjs-0.5.0.min.js"></script>
	
	<script>
		function init() {
			var stage = new createjs.Stage("demoCanvas");
			w = stage.canvas.width;
			h = stage.canvas.height;
			
			var tapis = new createjs.Shape();
            tapis.graphics.setStrokeStyle(5, 'round', 'round');
			tapis.graphics.beginStroke(('#000000'));
				tapis.graphics.beginFill("#FF0000").drawRoundRect(1,h*0.9,w*0.333, h*0.03, 2);
				tapis.graphics.endFill();
			tapis.graphics.endStroke();
			
            tapis.graphics.setStrokeStyle(10, 'round', 'round');
            tapis.graphics.beginStroke(('#000000'));
				tapis.graphics.moveTo(w*0.333,h*0.92);
				tapis.graphics.lineTo(w*0.5,h/2);
            tapis.graphics.endStroke();
			
			var four = new createjs.Shape();
			four.graphics.setStrokeStyle(5, 'round', 'round');
			four.graphics.beginStroke(('#000000'));
			four.graphics.beginFill("#727272").drawRoundRect(w/2, h/1.5,w/8, h/3.1, 2);
			four.graphics.endFill();
			four.graphics.endStroke();

			var pipe = new createjs.Shape();
			pipe.graphics.setStrokeStyle(5, 'round', 'round');
			pipe.graphics.beginStroke(('#000000'));
			pipe.graphics.drawRoundRect(w/1.6, h/1.3, w/2.65, h/4.9, 2);
			pipe.graphics.endFill();
			pipe.graphics.endStroke();
			
			// Dessin gypes
			var gypes = new createjs.Bitmap("img/gypes.png");
			gypes.x = 0;
			gypes.y = h*0.75;
			gypes.scaleX = w/3000;
			gypes.scaleY = h/1000;
			
			var gypes2  = new createjs.Bitmap("img/gypes.png");
			gypes2.x = w*0.050;
			gypes2.y = h*0.75;
			gypes2.scaleX = w/3000;
			gypes2.scaleY = h/1000;
			
			var gypes3  = new createjs.Bitmap("img/gypes.png");
			gypes3.x = 2*w*0.050;
			gypes3.y = h*0.75;
			gypes3.scaleX = w/3000;
			gypes3.scaleY = h/1000;
			
			var gypes4  = new createjs.Bitmap("img/gypes.png");
			gypes4.x = 3*w*0.050;
			gypes4.y = h*0.75;
			gypes4.scaleX = w/3000;
			gypes4.scaleY = h/1000;
			
			var gypes5  = new createjs.Bitmap("img/gypes.png");
			gypes5.x = 4*w*0.050;
			gypes5.y = h*0.75;
			gypes5.scaleX = w/3000;
			gypes5.scaleY = h/1000;
			
			var gypesL = new createjs.Shape();
			gypesL.graphics.beginFill("#727272").drawRoundRect(w/1.98, h/1.29, w/8.6, h/5.22, 2);
			gypesL.graphics.endFill();
			
			stage.addChild(tapis, gypes,gypes2,gypes3,gypes4 ,gypes5, four, pipe, gypesL);
			//stage.addChild(gypesL);
			// Rotation
			var tween = createjs.Tween.get(gypes, {loop:false})
			.to({x:w*0.3}, 1400, createjs.Ease.none)
			.to({rotation:-39.9,x:w*0.317}, 140, createjs.Ease.none)
			.to({x:w*0.482,y:h/2.982}, 1400, createjs.Ease.none)
			.to({rotation:0.9,x:w/1.91}, 140,createjs.Ease.none)
			.to({y:h*0.8}, 1400, createjs.Ease.none);
						
			var tween = createjs.Tween.get(gypes2, {loop:false})
			.to({x:w*0.3}, 1140, createjs.Ease.none)
			.to({rotation:-39.9,x:w*0.317}, 140,createjs.Ease.none)
			.to({x:w*0.482,y:h/2.982}, 1140, createjs.Ease.none)
			.to({rotation:0.9,x:w/1.91}, 140,createjs.Ease.none)
			.to({y:h*0.8}, 1400, createjs.Ease.none);
			
			var tween = createjs.Tween.get(gypes3, {loop:false})
			.to({x:w*0.3}, 940, createjs.Ease.none)
			.to({rotation:-39.9,x:w*0.317}, 140,createjs.Ease.none)
			.to({x:w*0.482,y:h/2.982}, 940, createjs.Ease.none)
			.to({rotation:0.9,x:w/1.91}, 140,createjs.Ease.none)
			.to({y:h*0.8}, 1400, createjs.Ease.none);
			
			var tween = createjs.Tween.get(gypes4, {loop:false})
			.to({x:w*0.3}, 740, createjs.Ease.none)
			.to({rotation:-39.9,x:w*0.317}, 140,createjs.Ease.none)
			.to({x:w*0.482,y:h/2.982}, 740, createjs.Ease.none)
			.to({rotation:0.9,x:w/1.91}, 140,createjs.Ease.none)
			.to({y:h*0.8}, 1400, createjs.Ease.none);
			
			var tween = createjs.Tween.get(gypes5, {loop:false})
			.to({x:w*0.3}, 540, createjs.Ease.none)
			.to({rotation:-39.9,x:w*0.317}, 140,createjs.Ease.none)
			.to({x:w*0.482,y:h/2.982}, 540, createjs.Ease.none)
			.to({rotation:0.9,x:w/1.91}, 140,createjs.Ease.none)
			.to({y:h*0.8}, 1400, createjs.Ease.none);
			
			/*****************************************************/
			
			var tween = createjs.Tween.get(gypesL, {loop:false})
			.wait(4500)
			.to({x:w*0.8}, 4000, createjs.Ease.none);
			// create a motion (slide)
			createjs.Ticker.addEventListener("tick", stage);
			createjs.Ticker.setFPS(60);
			
			function tick() {
				gypes.x = gypes.x + 5;
				//if (gypes.x > w*0.20) { gypes.x = 0; }

				gypes2.x = gypes2.x + 5;
				//if (gypes2.x > w*0.20) { gypes2.x = 0; }
				
				gypes3.x = gypes3.x + 5;
				//if (gypes3.x > w*0.20) { gypes3.x = 0; }

				gypes4.x = gypes4.x + 5;
				//if (gypes4.x > w*0.20) { gypes4.x = 0; }

				gypes5.x = gypes5.x + 5;
				//if (gypes5.x > w*0.20) { gypes5.x = 0; }
				
				stage.update();
			}
		}
		
	</script>
</head>
<body onLoad="init();">
	<canvas id="demoCanvas" width="900" height="300" style="position:absolute;">
		alternate content
	</canvas>
</body>
</html>